<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rekapitulasi Penetapan NIPPPK Tahap II TA. 2024</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      /* Custom scrollbar for better aesthetics */
      ::-webkit-scrollbar {
        width: 8px;
      }
      ::-webkit-scrollbar-track {
        background: #f1f1f1;
      }
      ::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 10px;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #555;
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800">
    <div class="container mx-auto p-4 md:p-8">
      <!-- Header Section -->
      <header class="text-center mb-8">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-900">
          Rekapitulasi Global Penetapan NIPPPK Tahap II TA. 2024
        </h1>
        <p class="text-gray-600 mt-2">
          Wilayah Kerja Kantor Regional II BKN Surabaya
        </p>
        <p class="text-sm text-gray-500">
          Data per 15 September 2025 | 15.56 WIB
        </p>
      </header>

      <!-- Global Summary Cards -->
      <section
        class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-7 gap-4 mb-8 text-center"
      >
        <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
          <p class="text-sm font-semibold text-gray-500">Total Usulan</p>
          <p class="text-2xl font-bold text-blue-600" id="total-usulan">
            11.885
          </p>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
          <p class="text-sm font-semibold text-gray-500">ACC</p>
          <p class="text-2xl font-bold text-green-600" id="total-acc">11.663</p>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
          <p class="text-sm font-semibold text-gray-500">Proses</p>
          <p class="text-2xl font-bold text-yellow-600" id="total-proses">91</p>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
          <p class="text-sm font-semibold text-gray-500">BTS</p>
          <p class="text-2xl font-bold text-orange-600" id="total-bts">130</p>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
          <p class="text-sm font-semibold text-gray-500">TMS</p>
          <p class="text-2xl font-bold text-red-600" id="total-tms">1</p>
        </div>
        <div class="bg-white p-4 rounded-lg shadow-md border border-gray-200">
          <p class="text-sm font-semibold text-gray-500">Cetak SK</p>
          <p class="text-2xl font-bold text-indigo-600" id="total-cetak-sk">
            2.719
          </p>
        </div>
        <div
          class="bg-blue-600 text-white p-4 rounded-lg shadow-md col-span-2 md:col-span-1"
        >
          <p class="text-sm font-semibold">Selesai</p>
          <p class="text-2xl font-bold" id="persen-selesai">98.13%</p>
        </div>
      </section>

      <!-- Search and Table Section -->
      <main
        class="bg-white p-4 md:p-6 rounded-lg shadow-lg border border-gray-200"
      >
        <div class="mb-4">
          <input
            type="text"
            id="searchInput"
            placeholder="Cari nama instansi..."
            class="w-full md:w-1/3 p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
          />
        </div>

        <!-- Table Container -->
        <div class="overflow-x-auto">
          <div
            class="hidden md:grid md:grid-cols-8 gap-4 p-4 bg-gray-100 rounded-t-lg font-semibold text-sm text-gray-700"
          >
            <div class="col-span-2">Instansi</div>
            <div>Proses</div>
            <div>BTS</div>
            <div>TMS</div>
            <div>ACC</div>
            <div>Total</div>
            <div>% Selesai</div>
          </div>
          <div id="table-body" class="space-y-2 md:space-y-0">
            <!-- Data will be injected here by JavaScript -->
          </div>
          <p id="no-data" class="text-center p-8 text-gray-500 hidden">
            Instansi tidak ditemukan.
          </p>
        </div>
      </main>

      <!-- Footer -->
      <footer class="text-center mt-8 text-sm text-gray-500">
        <p>created ops wtg 1 &copy; <span id="footerYear"></span></p>
      </footer>
    </div>

    <script>
      const data = [
        {
          instansi: "Pemkab Sumenep",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 167,
          total: 167,
          persen: "100%",
        },
        {
          instansi: "Pemkab Bondowoso",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 38,
          total: 38,
          persen: "100%",
        },
        {
          instansi: "Pemkab Banyuwangi",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 66,
          total: 66,
          persen: "100%",
        },
        {
          instansi: "Pemkab Probolinggo",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 2,
          total: 2,
          persen: "100%",
        },
        {
          instansi: "Pemkab Kediri",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 203,
          total: 203,
          persen: "100%",
        },
        {
          instansi: "Pemkab Nganjuk",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 1,
          total: 1,
          persen: "100%",
        },
        {
          instansi: "Pemkab Blitar",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 275,
          total: 275,
          persen: "100%",
        },
        {
          instansi: "Pemkot Probolinggo",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 69,
          total: 69,
          persen: "100%",
        },
        {
          instansi: "Pemkot Kediri",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 4,
          total: 4,
          persen: "100%",
        },
        {
          instansi: "Pemkab Gresik",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 22,
          total: 22,
          persen: "100%",
        },
        {
          instansi: "Pemkab Mojokerto",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 69,
          total: 69,
          persen: "100%",
        },
        {
          instansi: "Pemkab Jombang",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 39,
          total: 39,
          persen: "100%",
        },
        {
          instansi: "Pemkab Sampang",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 9,
          total: 9,
          persen: "100%",
        },
        {
          instansi: "Pemkab Pamekasan",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 8,
          total: 8,
          persen: "100%",
        },
        {
          instansi: "Pemkab Situbondo",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 7,
          total: 7,
          persen: "100%",
        },
        {
          instansi: "Pemkab Pasuruan",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 193,
          total: 193,
          persen: "100%",
        },
        {
          instansi: "Pemkab Lumajang",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 19,
          total: 19,
          persen: "100%",
        },
        {
          instansi: "Pemkab Tulungagung",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 77,
          total: 77,
          persen: "100%",
        },
        {
          instansi: "Pemkab Trenggalek",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 1329,
          total: 1329,
          persen: "100%",
        },
        {
          instansi: "Pemkab Madiun",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 96,
          total: 96,
          persen: "100%",
        },
        {
          instansi: "Pemkab Magetan",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 190,
          total: 190,
          persen: "100%",
        },
        {
          instansi: "Pemkot Mojokerto",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 56,
          total: 56,
          persen: "100%",
        },
        {
          instansi: "Pemkot Pasuruan",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 10,
          total: 10,
          persen: "100%",
        },
        {
          instansi: "Pemkot Blitar",
          proses: 0,
          bts: 0,
          tms: 0,
          acc: 83,
          total: 83,
          persen: "100%",
        },
        {
          instansi: "Pemkab Lamongan",
          proses: 2,
          bts: 0,
          tms: 0,
          acc: 1145,
          total: 1147,
          persen: "99.83%",
        },
        {
          instansi: "Pemkab Tuban",
          proses: 0,
          bts: 1,
          tms: 0,
          acc: 194,
          total: 195,
          persen: "99.49%",
        },
        {
          instansi: "Pemkab Ngawi",
          proses: 0,
          bts: 2,
          tms: 0,
          acc: 371,
          total: 373,
          persen: "99.46%",
        },
        {
          instansi: "Pemkab Malang",
          proses: 7,
          bts: 4,
          tms: 0,
          acc: 1927,
          total: 1938,
          persen: "99.43%",
        },
        {
          instansi: "Pemkot Surabaya",
          proses: 0,
          bts: 1,
          tms: 0,
          acc: 155,
          total: 156,
          persen: "99.36%",
        },
        {
          instansi: "Pemkab Ponorogo",
          proses: 2,
          bts: 0,
          tms: 0,
          acc: 237,
          total: 239,
          persen: "99.16%",
        },
        {
          instansi: "Pemkab Malang",
          proses: 13,
          bts: 7,
          tms: 0,
          acc: 1707,
          total: 1727,
          persen: "98.84%",
        },
        {
          instansi: "Pemkab Jember",
          proses: 0,
          bts: 1,
          tms: 0,
          acc: 60,
          total: 61,
          persen: "98.36%",
        },
        {
          instansi: "Pemkab Sidoarjo",
          proses: 2,
          bts: 6,
          tms: 0,
          acc: 314,
          total: 322,
          persen: "97.52%",
        },
        {
          instansi: "Pemkab Bangkalan",
          proses: 0,
          bts: 1,
          tms: 0,
          acc: 36,
          total: 37,
          persen: "97.30%",
        },
        {
          instansi: "Pemkot Madiun",
          proses: 0,
          bts: 1,
          tms: 0,
          acc: 35,
          total: 36,
          persen: "97.22%",
        },
        {
          instansi: "Pemkab Bojonegoro",
          proses: 13,
          bts: 67,
          tms: 0,
          acc: 1297,
          total: 1377,
          persen: "94.19%",
        },
        {
          instansi: "Pemkab Pacitan",
          proses: 0,
          bts: 0,
          tms: 1,
          acc: 15,
          total: 16,
          persen: "93.75%",
        },
        {
          instansi: "Pemprov Jawa Timur",
          proses: 52,
          bts: 39,
          tms: 0,
          acc: 1138,
          total: 1229,
          persen: "92.60%",
        },
      ];

      const tableBody = document.getElementById("table-body");
      const searchInput = document.getElementById("searchInput");
      const noDataP = document.getElementById("no-data");

      function renderData(dataToRender) {
        tableBody.innerHTML = ""; // Clear existing data

        if (dataToRender.length === 0) {
          noDataP.classList.remove("hidden");
        } else {
          noDataP.classList.add("hidden");
        }

        dataToRender.forEach((item) => {
          const row = `
                    <!-- Vertical Card for Mobile -->
                    <div class="md:hidden bg-white border border-gray-200 rounded-lg p-4 grid grid-cols-2 gap-x-4 gap-y-2 text-sm">
                        <div class="col-span-2 font-bold text-base text-blue-700">${
                          item.instansi
                        }</div>
                        
                        <div class="text-gray-600">Proses</div><div class="font-medium text-right">${
                          item.proses
                        }</div>
                        <div class="text-gray-600">BTS</div><div class="font-medium text-right">${
                          item.bts
                        }</div>
                        <div class="text-gray-600">TMS</div><div class="font-medium text-right">${
                          item.tms
                        }</div>
                        <div class="text-gray-600">ACC</div><div class="font-medium text-right">${
                          item.acc
                        }</div>
                        <div class="text-gray-600">Total</div><div class="font-medium text-right">${
                          item.total
                        }</div>
                        
                        <div class="col-span-2 mt-2 pt-2 border-t text-center">
                            <span class="font-bold text-green-600 text-lg">${
                              item.persen
                            }</span>
                        </div>
                    </div>

                    <!-- Horizontal Row for Desktop -->
                    <div class="hidden md:grid md:grid-cols-8 gap-4 items-center p-4 border-b border-gray-200 hover:bg-gray-50 text-sm">
                        <div class="col-span-2 font-semibold text-gray-900">${
                          item.instansi
                        }</div>
                        <div class="text-center">${item.proses}</div>
                        <div class="text-center">${item.bts}</div>
                        <div class="text-center">${item.tms}</div>
                        <div class="text-center">${item.acc}</div>
                        <div class="text-center">${item.total}</div>
                        <div class="text-center">
                            <span class="px-2 py-1 text-xs font-semibold rounded-full ${
                              parseFloat(item.persen) === 100
                                ? "bg-green-100 text-green-800"
                                : "bg-blue-100 text-blue-800"
                            }">
                                ${item.persen}
                            </span>
                        </div>
                    </div>
                `;
          tableBody.innerHTML += row;
        });
      }

      searchInput.addEventListener("keyup", (e) => {
        const searchTerm = e.target.value.toLowerCase();
        const filteredData = data.filter((item) =>
          item.instansi.toLowerCase().includes(searchTerm)
        );
        renderData(filteredData);
      });

      // Set current year in footer
      document.getElementById("footerYear").textContent =
        new Date().getFullYear();

      // Initial render
      renderData(data);
    </script>
  </body>
</html>
